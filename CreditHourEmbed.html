<body>
<div id="wrapper">
    <div id="page-wrapper" class="float-right">
        <div class="row justify-content-md-center">
            <div class="alert alert-info alert-dismissible" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <strong>NOTE:</strong> In order for calculator to show results you must click out of field!
            </div>
            <div class="col-lg-12" >
                <form class="form-horizontal" id="dynamic" >
                    <table class="rtable">
                        <thead>
                        <tr>
                            <td style="width:  5%" class="text-center"><label>Instructional Method</label></td>
                            <td style="width: 5%"><label>Number of Credits</label></td>
                            <td style="width: 5%" class="text-center"><label>Direct instruction time per credit in clock hours</label></td>
                            <td style="width:  5%" class="text-center"><label>Total number of clock hours of direct instruction time</label></td>
                            <td style="width:  5%" class="text-center"><label>Out of class student work per credit in clock hours</label></td>
                            <td style="width:  5%" class="text-center"><label>Total Number of clock hours of out of class student work</label></td>
                            <td style="width:  5%" class="text-center"><label>Combined Instructional Time</label></td>
                            <td style="width:  2%" class="text-center"><label>Remove</label></td>
                        </tr>
                        </thead>
                        <tbody id="itemlist">
                        <!-- LECTURE 1 -->
                        <tr>
                            <td>Lecture</td>
                            <td><input class="form-control input-sm" data-cell="B0"></td>
                            <td><input class="form-control input-sm" data-cell="C0" value="12.5" disabled></td>
                            <td><input class="form-control input-sm" data-cell="D0" data-format="0[.]00" data-formula="B0 * C0" disabled></td>
                            <td><input class="form-control input-sm" data-cell="E0" value="25" disabled></td>
                            <td><input class="form-control input-sm" data-cell="F0" data-format="0[.]00" data-formula="B0 * E0" disabled></td>
                            <td><input class="form-control input-sm" data-cell="G0" data-format="0[.]00" data-formula="D0 + F0" disabled></td>
                            <td class="text-center"><button class="btn-remove btn btn-sm btn-danger"><i class="fa fa-times fa-fw"></i></button></td>

                        </tr>
                        <!-- LAB 2 -->
                        <tr>
                            <td>Lab (standard)</td>
                            <td><input class="form-control input-sm" data-cell="B2"></td>
                            <td><input class="form-control input-sm" data-cell="C2" value="25" disabled></td>
                            <td><input class="form-control input-sm" data-cell="D2" data-format="0[.]00" data-formula="B2 * C2" disabled></td>
                            <td><input class="form-control input-sm" data-cell="E2" value="12.5" disabled></td>
                            <td><input class="form-control input-sm" data-cell="F2" data-format="0[.]00" data-formula="B2 * E2" disabled></td>
                            <td><input class="form-control input-sm" data-cell="G2" data-format="0[.]00" data-formula="D2 + F2" disabled></td>
                            <td class="text-center"><button class="btn-remove btn btn-sm btn-danger"><i class="fa fa-times fa-fw"></i></button></td>
                        </tr>
                        <!-- Lab (nursing, allied health, some science courses) 3 -->
                        <tr>
                            <td>Lab (nursing, allied health, some science courses)</td>
                            <td><input class="form-control input-sm" data-cell="B3"></td>
                            <td><input class="form-control input-sm" data-cell="C3" value="37.5" disabled></td>
                            <td><input class="form-control input-sm" data-cell="D3" data-format="0[.]00" data-formula="B3 * C3" disabled></td>
                            <td><input class="form-control input-sm" data-cell="E3" value="12.5" disabled></td>
                            <td><input class="form-control input-sm" data-cell="F3" data-format="0[.]00" data-formula="B3 * E3" disabled></td>
                            <td><input class="form-control input-sm" data-cell="G3" data-format="0[.]00" data-formula="D3 + F3" disabled></td>
                            <td class="text-center"><button class="btn-remove btn btn-sm btn-danger"><i class="fa fa-times fa-fw"></i></button></td>
                        </tr>
                        <!-- Studio 4 -->
                        <tr>
                            <td>Studio</td>
                            <td><input class="form-control input-sm" data-cell="B4"></td>
                            <td><input class="form-control input-sm" data-cell="C4" value="24" disabled></td>
                            <td><input class="form-control input-sm" data-cell="D4" data-format="0[.]00" data-formula="B4 * C4" disabled></td>
                            <td><input class="form-control input-sm" data-cell="E4" value="12.5" disabled></td>
                            <td><input class="form-control input-sm" data-cell="F4" data-format="0[.]00" data-formula="B4 * E4" disabled></td>
                            <td><input class="form-control input-sm" data-cell="G4" data-format="0[.]00" data-formula="D4 + F4" disabled></td>
                            <td class="text-center"><button class="btn-remove btn btn-sm btn-danger"><i class="fa fa-times fa-fw"></i></button></td>
                        </tr>
                        <!-- PRIVATE LESSON 5 -->
                        <tr>
                            <td>Private Lesson</td>
                            <td><input class="form-control input-sm" data-cell="B5"></td>
                            <td><input class="form-control input-sm" data-cell="C5" value="12.5" disabled></td>
                            <td><input class="form-control input-sm" data-cell="D5" data-format="0[.]00" data-formula="B5 * C5" disabled></td>
                            <td><input class="form-control input-sm" data-cell="E5" value="12.5" disabled></td>
                            <td><input class="form-control input-sm" data-cell="F5" data-format="0[.]00" data-formula="B5 * E5" disabled></td>
                            <td><input class="form-control input-sm" data-cell="G5" data-format="0[.]00" data-formula="D5 + F5" disabled></td>
                            <td class="text-center"><button class="btn-remove btn btn-sm btn-danger"><i class="fa fa-times fa-fw"></i></button></td>
                        </tr>
                        <!-- CLINICAL 6 -->
                        <tr>
                            <td>Clinical</td>
                            <td><input class="form-control input-sm" data-cell="B6"></td>
                            <td><input class="form-control input-sm" data-cell="C6" value="37.5" disabled></td>
                            <td><input class="form-control input-sm" data-cell="D6" data-format="0[.]00" data-formula="B6 * C6" disabled></td>
                            <td><input class="form-control input-sm" data-cell="E6" value="0" disabled></td>
                            <td><input class="form-control input-sm" data-cell="F6" data-format="0[.]00" data-formula="B6 * E6" disabled></td>
                            <td><input class="form-control input-sm" data-cell="G6" data-format="0[.]00" data-formula="D6 + F6" disabled></td>
                            <td class="text-center"><button class="btn-remove btn btn-sm btn-danger"><i class="fa fa-times fa-fw"></i></button></td>
                        </tr>
                        <!-- FIELDWORK 7 -->
                        <tr>
                            <td>Fieldwork</td>
                            <td><input class="form-control input-sm" data-cell="B7"></td>
                            <td><input class="form-control input-sm" data-cell="C7" value="37.5" disabled></td>
                            <td><input class="form-control input-sm" data-cell="D7" data-format="0[.]00" data-formula="B7 * C7" disabled></td>
                            <td><input class="form-control input-sm" data-cell="E7" value="0" disabled></td>
                            <td><input class="form-control input-sm" data-cell="F7" data-format="0[.]00" data-formula="B7 * E7" disabled></td>
                            <td><input class="form-control input-sm" data-cell="G7" data-format="0[.]00" data-formula="D7 + F7" disabled></td>
                            <td class="text-center"><button class="btn-remove btn btn-sm btn-danger"><i class="fa fa-times fa-fw"></i></button></td>
                        </tr>
                        <!-- INTERNSHIP 8 -->
                        <tr>
                            <td>Internship</td>
                            <td><input class="form-control input-sm" data-cell="B8"></td>
                            <td><input class="form-control input-sm" data-cell="C8" value="0.67" disabled></td>
                            <td><input class="form-control input-sm" data-cell="D8" data-format="0[.]00" data-formula="B8 * C8" disabled></td>
                            <td><input class="form-control input-sm" data-cell="E8" value="50" disabled></td>
                            <td><input class="form-control input-sm" data-cell="F8" data-format="0[.]00" data-formula="B8 * E8" disabled></td>
                            <td><input class="form-control input-sm" data-cell="G8" data-format="0[.]00" data-formula="D8 + F8" disabled></td>
                            <td class="text-center"><button class="btn-remove btn btn-sm btn-danger"><i class="fa fa-times fa-fw"></i></button></td>
                        </tr>
                        </tbody>
                        <tr>
                            <td><b>Totals:</b></td>
                            <td><input class="form-control input-sm" data-cell="H1" data-format="0[.]00" data-formula="SUM(B0:B8)" disabled></td>
                            <td><input class="form-control input-sm" data-cell="I1" disabled></td>
                            <td><input class="form-control input-sm" data-cell="J1" data-format="0[.]00" data-formula="SUM(D0:D8)" disabled></td>
                            <td><input class="form-control input-sm" data-cell="K1" disabled></td>
                            <td><input class="form-control input-sm" data-cell="L1" data-format="0[.]00" data-formula="SUM(F0:F8)" disabled></td>
                            <td><input class="form-control input-sm" data-cell="M1" data-format="0[.]00" data-formula="SUM(G0:G8)" disabled></td>
                        </tr>
                        <tr>
                            <td>
                                <button id="add_item" class="btn btn-sm btn-primary">Add Class</button>
                                <button class="btn btn-sm btn-primary" id="pagePrint" >Print Page</button>
                            </td>
                            <td>&nbsp;</td>
                        </tr>
                    </table>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="page-footer font-small blue">

    <div class="footer-copyright text-center py-3">Source Code Available in
        <i class="bi bi-github"></i>
        <a href="https://github.com/TeamHeroes/teamheroes.github.io" target="_blank"> Github.com</a>
    </div>

</footer>
<link href="https://teamheroes.github.io/css/bootstrap.css" rel="stylesheet" type="text/css">
<link href="https://teamheroes.github.io/css/sb-admin.css" rel="stylesheet" type="text/css">
<link href="https://teamheroes.github.io/css/style.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://teamheroes.github.io/font-awesome/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
<script src="https://teamheroes.github.io/js/jquery-3.6.0.min.js" type="text/javascript"></script>
<script src="https://teamheroes.github.io/js/jquery-calx-sample-2.2.8.min.js" type="text/javascript"></script>
<script src="https://teamheroes.github.io/js/bootstrap.js" type="text/javascript"></script>
<script>
    $form       = $('#dynamic').calx();
    $itemlist   = $('#itemlist');
    $counter    = 9;

    $('#add_item').click(function(e){
        e.preventDefault();
        var i = ++$counter;
        $itemlist.append(
            '<tr>\
                <td><input class="form-control input-sm text-right" data-cell="A'+i+'"></td>\
                <td><input class="form-control input-sm text-right " data-cell="B'+i+'" data-format="0[.]00"></td>\
                <td><input class="form-control input-sm text-right" data-cell="C'+i+'" data-format="0[.]00"></td>\
                <td><input class="form-control input-sm text-right" data-cell="D'+i+'" data-format="0[.]00" data-formula="B'+i+' * C'+i+'" disabled></td>\
                <td><input class="form-control input-sm text-right" data-cell="E'+i+'" data-format="0[.]00"></td>\
                <td><input class="form-control input-sm text-right" data-cell="F'+i+'" data-format="0[.]00" data-formula="B'+i+' * E'+i+'" disabled></td>\
                <td><input class="form-control input-sm text-right" data-cell="G'+i+'" data-format="0[.]00" data-formula="D'+i+' + F'+i+'" disabled></td>\
                <td class="text-center"><button class="btn-remove btn btn-sm btn-danger"><i class="fa fa-times fa-fw"></i></button></td>\
            </tr>'
        );
        //console.log('new row appended');


        $form.calx('update');
        $form.calx('getCell', 'H1').setFormula('SUM(B0:B'+i+')');

        $form.calx('update');
        $form.calx('getCell', 'I1');

        $form.calx('update');
        $form.calx('getCell', 'J1').setFormula('SUM(D0:D'+i+')');

        $form.calx('update');
        $form.calx('getCell', 'K1');

        $form.calx('update');
        $form.calx('getCell', 'L1').setFormula('SUM(F0:F'+i+')');

        $form.calx('update');
        $form.calx('getCell', 'M1').setFormula('SUM(G0:G'+i+')');
        //console.log($form.calx('getSheet'));
    });

    $('#itemlist').on('click', '.btn-remove', function(){
        $(this).parent().parent().remove();
        $form.calx('update');
        $form.calx('getCell', 'H1').calculate();

        $(this).parent().parent().remove();
        $form.calx('update');
        $form.calx('getCell', 'J1').calculate();

        $(this).parent().parent().remove();
        $form.calx('update');
        $form.calx('getCell', 'L1').calculate();

        $(this).parent().parent().remove();
        $form.calx('update');
        $form.calx('getCell', 'M1').calculate();
    });

    // disable enter key from deleting fields
    $(document).ready(function () {
        $("form").bind("keypress", function (e) {
            if (e.keyCode === 13)
            {
                return false;
            }
        });
    });


    //print function
    $( document ).ready(function() {
        $('#pagePrint').click(function()
        {
            window.print();
            return false;
        });
    });
</script>
</body>

